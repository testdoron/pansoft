<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>IHMS2010</title>
    <link href="lib/extjs/resources/css/ext-all.css" rel="stylesheet" type="text/css" />
    <link href="lib/extjs/pan/panihms.css" rel="stylesheet" type="text/css" />
    <link href="css/modules.css" rel="stylesheet" type="text/css" />

    <script src="lib/jquery.v1.4.1/jquery-1.4.1.js" type="text/javascript"></script>
    <script src="lib/Highcharts-1.2.5/highcharts.js" type="text/javascript"></script>
    <!--[if IE]>
        <script src="lib/Highcharts-1.2.5/excanvas.compiled.js" type="text/javascript"></script>
    <![endif]-->
    <script src="lib/extjs/adapter/ext/ext-base-debug.js" type="text/javascript"></script>
    <script src="lib/extjs/ext-all-debug.js" type="text/javascript"></script>
    <script src="lib/extjs/pan/panihms.js" type="text/javascript"></script>
	<script src="GeanJs.js" type="text/javascript"></script>
	<script src="IHMSData.js" type="text/javascript"></script>
	<script src="IHMSData.StaticsticsData.js" type="text/javascript"></script>
	<script src="IHMSModule.js" type="text/javascript"></script>
	<script src="IHMSControl.Window.TimeRange.js" type="text/javascript"></script>
	<script src="BuildCompanyGroupTreePanel.js" type="text/javascript"></script>
	<script src="BuildStatisticsManagementPanel.js" type="text/javascript"></script>
</head>

<body>

    <!------------------------------------>
    <!--   一些公用的组件 UICommon      -->
    <!------------------------------------>
    <script type="text/javascript">
        var UICommon = {
            version: '2010.6.0',
            email: 'lukan.pan@gmail.com'
        }
		var __isDebug = true;
		__log = function(str) {
			if (__isDebug) {
				try {
					Ext.log(str);
				} catch (e) {
					Ext.log(e);
				}
			}
		}; 
    </script>

   

    <!------------------------------------>
    <!--       模块：IHMSModule         -->
    <!------------------------------------>
    <!--模块：CustomManagementPanel(客户管理)-->
    <script type="text/javascript">
        IHMSModule.CustomManagementPanel = Ext.extend(Ext.app.Module, 
        {
            id: "CustomManagementPanel",
            init: function() 
            {
                this.launcher = 
                {
                    text: '客户管理',
                    iconCls: 'icon-CustomManagementPanel',
                    handler: this.createWindow,
                    scope: this
                }
            },

            createWindow: function() 
            {
                var desktop = this.app.getDesktop();
                var win = desktop.getWindow('CustomManagementPanel');
                if (!win) {
                    win = desktop.createWindow({
                        id: 'CustomManagementPanel',
                        title: "客户管理",
                        width: 640,
                        height: 480,
                        html: '<p>客户管理...</p>',
                        iconCls: 'icon-CustomManagementPanel',
                        shim: false,
                        animCollapse: false,
                        constrainHeader: true
                    });
                }
                win.show();
            }
        
		});    
	</script>

    <!--模块：OperationManagementPanel(业务管理)-->
    <script type="text/javascript">
        IHMSModule.OperationManagementPanel = Ext.extend(Ext.app.Module, 
        {
            id: "OperationManagementPanel",
            init: function() 
            {
                this.launcher = 
                {
                    text: '业务管理',
                    iconCls: 'icon-OperationManagementPanel',
                    handler: this.createWindow,
                    scope: this
                }
            },

            createWindow: function() 
            {
                var desktop = this.app.getDesktop();
                var win = desktop.getWindow('OperationManagementPanel');
                if (!win) {
                    win = desktop.createWindow({
                        id: 'OperationManagementPanel',
                        title: "业务管理",
                        width: 640,
                        height: 480,
                        html: '<p>业务管理...</p>',
                        iconCls: 'icon-OperationManagementPanel',
                        shim: false,
                        animCollapse: false,
                        constrainHeader: true
                    });
                }
                win.show();
            }
        });
    </script>

    <!--模块：DeviceManagementPanel(设备管理)-->
    <script type="text/javascript">
        IHMSModule.DeviceManagementPanel = Ext.extend(Ext.app.Module,
        {
            id: "DeviceManagementPanel",
            init: function() 
            {
                this.launcher = 
                {
                    text: '设备管理',
                    iconCls: 'icon-DeviceManagementPanel',
                    handler: this.createWindow,
                    scope: this
                }
            },

            createWindow: function() 
            {
                var desktop = this.app.getDesktop();
                var win = desktop.getWindow('DeviceManagementPanel');
                if (!win) {
                    win = desktop.createWindow({
                        id: 'DeviceManagementPanel',
                        title: "设备管理",
                        width: 640,
                        height: 480,
                        html: '<p>设备管理...</p>',
                        iconCls: 'icon-DeviceManagementPanel',
                        shim: false,
                        animCollapse: false,
                        constrainHeader: true
                    });
                }
                win.show();
            }
        });
    </script>

    <!--模块：BookingManagementPanel(预约管理)-->
    <script type="text/javascript">
        IHMSModule.BookingManagementPanel = Ext.extend(Ext.app.Module, 
        {
            id: "BookingManagementPanel",
            init: function() {
                this.launcher = {
                    text: '预约管理',
                    iconCls: 'icon-BookingManagementPanel',
                    handler: this.createWindow,
                    scope: this
                }
            },

            createWindow: function(src) {
                var desktop = this.app.getDesktop();
                var win = desktop.getWindow('BookingManagementPanel');
                if (!win) {
                    win = desktop.createWindow({
                        id: 'BookingManagementPanel',
                        title: "预约管理",
                        width: 640,
                        height: 480,
                        html: '<p>预约管理...</p>',
                        iconCls: 'icon-BookingManagementPanel',
                        shim: false,
                        animCollapse: false,
                        constrainHeader: true
                    });
                }
                win.show();
            }
        });
    </script>

    <!--模块：SystemManagementPanel(系统管理)-->
    <script type="text/javascript">
        IHMSModule.SystemManagementPanel = Ext.extend(Ext.app.Module,
        {
            id: "SystemManagementPanel",
            init: function() 
            {
                this.launcher = 
                {
                    text: '系统管理',
                    iconCls: 'icon-SystemManagementPanel',
                    handler: this.createWindow,
                    scope: this
                }
            },

            createWindow: function() 
            {
                var desktop = this.app.getDesktop();
                var win = desktop.getWindow('SystemManagementPanel');
                if (!win) {
                    win = desktop.createWindow({
                        id: 'SystemManagementPanel',
                        title: "系统管理",
                        width: 640,
                        height: 480,
                        html: '<p>系统管理...</p>',
                        iconCls: 'icon-SystemManagementPanel',
                        shim: false,
                        animCollapse: false,
                        constrainHeader: true
                    });
                }
                win.show();
            }
        });
    </script>


    <!--桌面部份-->
    <div id="x-desktop">
        <dl id="x-shortcuts">
            <!-- 快捷方式的id按被调用的窗体 + ‘-shortcut’ 组成 -->
            <dt id="CustomManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="CustomManagement" /><br />
                <span id="CustomManagementPanel-txt"></span>
            </a></dt>
            <dt id="OperationManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="OperationManagementPanel" /><br />
                <span id="OperationManagementPanel-txt"></span>
            </a></dt>
            <dt id="DeviceManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="DeviceManagementPanel" /><br />
                <span id="DeviceManagementPanel-txt"></span>
            </a></dt>
            <dt id="StatisticsManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="StatisticsManagementPanel" /><br />
                <span id="StatisticsManagementPanel-txt"></span>
            </a></dt>
            <dt id="BookingManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="BookingManagementPanel" /><br />
                <span id="BookingManagementPanel-txt"></span>
            </a></dt>
            <dt id="SystemManagementPanel-shortcut"><a href="#">
                <img src="lib/extjs/pan/images/s.gif" alt="SystemManagementPanel" /><br />
                <span id="SystemManagementPanel-txt"></span>
            </a></dt>
            <!-- shortcut end -->
        </dl>
    </div>
    <!--开始按钮 任务栏-->
    <div id="ux-taskbar">
        <div id="ux-taskbar-start">
        </div>
        <div id="ux-taskbuttons-panel">
        </div>
        <div class="x-clear">
        </div>
    </div>
    
    
    <!--页面载入后的一些操作-->
    <script type="text/javascript">
        $("title").empty();
        //对TITLE节点进行操作，打印用户单位名称及软件与软件版本号
        $("title").append(
            IHMSData.CompanyGroup.name.concat(" - ").
            concat(IHMSData.ConfigJson.SoftwareName).
            concat(" ").
            concat(IHMSData.ConfigJson.SoftwareVersion));
        $("#CustomManagementPanel-txt").append(IHMSData.UITxt.Modules.CustomManagementPanel.Text);
        $("#OperationManagementPanel-txt").append(IHMSData.UITxt.Modules.OperationManagementPanel.Text);
        $("#DeviceManagementPanel-txt").append(IHMSData.UITxt.Modules.DeviceManagementPanel.Text);
        $("#StatisticsManagementPanel-txt").append(IHMSData.UITxt.Modules.StatisticsManagementPanel.Text);
        $("#BookingManagementPanel-txt").append(IHMSData.UITxt.Modules.BookingManagementPanel.Text);
        $("#SystemManagementPanel-txt").append(IHMSData.UITxt.Modules.SystemManagementPanel.Text);
    </script>

</body>

</html>
